Mikaka DDNS サーバー を AWS で動作させる場合のコスト

DDNS サーバーインスタンス x 2、データベースサーバー x 1 の 3 台に分けて動作させる場合

・ EC2 t2.medium インスタンス (2 CPU、4G RAM) x 3
   価格は https://aws.amazon.com/jp/ec2/pricing/on-demand/
   米国東部 オハイオ で 0.0464 USD / 時間 と書いてある。
   ※ クレジットを無制限にして、かつ、CPU 消費量が大幅に増加した場合、CPU 時間の追加料金が取られる。

・ 上記のための EBS ストレージ gp2 60GB x 3
   価格は https://aws.amazon.com/jp/ebs/pricing/
   米国東部 オハイオ で 0.125USD/GB 月 と書いてある。

・ Elastic IP (IPv4 アドレス) は、EC2 VM に割り当てている限り、無償である。

・ IPv6 アドレスは、無償である。

・ インターネットデータ転送料金は
   https://aws.amazon.com/jp/ec2/pricing/on-demand/#Data_Transfer
   に記載されている。
   
   インターネットデータ転送料金は、トラフィックに依存する。
   SoftEther.net DDNS サービス https://www.softether.net/ には 2 台の DDNS サーバーがあるが、数百万台の登録があっても、データ量は以外と少なく、5Mbps 以下である。したがって、特に異常な事態 (DDoS されるなど) がなければ、数万くらいのホストを登録して普通に利用される DDNS サービスのデータ転送量は、1Mbps 以下になるであろう。
   そこで、1Mbps と仮定する。
   1Mbps を 1 ヶ月間転送すると、384GB である。
   https://aws.amazon.com/jp/ec2/pricing/on-demand/#Data_Transfer に
   「最初の 10 TB/月 0.09USD/GB」
   と書いてある。


上記の AWS の課金額は、地域によって異なる。米国が安く、日本は高い。しかし、DDNS サービスはユーザーから遅延があっても困ることがない。したがって、安い米国に置けば良い。

上記を単純合算すると、1 ヶ月あたりのコストは、インターネットデータ転送料金をのぞき、

((0.0464 * 24 * 31) + (0.125 * 60)) * 3 + (0.09 * 384) = 160.6428 USD

となる。

最近、為替が恐いことになっているが、仮に、1 ドル = 135 円 として 2.1686 万円 / 月である。

データをどこかにバックアップするというようなときは、追加でストレージや VM、データ転送量がかかる。これは別の問題である。

上記の計算は、登が、概算で、自己のために行なう場合と同じくらいの注意力を尽くして短時間で行なったものである。間違っている可能性があるので、注意願いたい。

実際に DDNS サービスを構築される場合は、改めて、各自のリスクで計算をしていただきたい。




